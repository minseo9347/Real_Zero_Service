{% extends "homepage/base.html" %}
{% load static %}

{% block title %}{{ product.product_name }}{% endblock %}

{% block content %}
<div class="container py-3">
  <!-- ì œí’ˆ ì´ë¯¸ì§€ ë° ë¼ë²¨ -->
  <div class="text-center">
    <img src="{{ product.image }}" alt="ì œí’ˆ ì´ë¯¸ì§€" class="img-fluid mb-3 rounded" style="max-height: 250px;">
  </div>

  <!-- ë¸Œëœë“œëª… ë° ì œí’ˆëª… -->
  <h5 class="text-muted">{{ product.brand }}</h5>
  <h3 class="font-weight-bold">{{ product.product_name }}</h3>

  <!-- ê°€ê²© ì˜ˆì‹œ -->
  <p class="text-muted">{{ product.price }} (ìµœì €ê°€)</p>

  <!-- ë¼ë²¨ ì˜ˆì‹œ -->
  <div class="mb-3">
  {% if is_zero_calorie %}
    <span class="badge badge-success px-3 py-2 rounded-pill">ì¹¼ë¡œë¦¬ ì œë¡œ</span>
  {% endif %}
  {% if has_maltitol %}
    <span class="badge badge-danger px-3 py-2 rounded-pill">ë§í‹°í†¨</span>
  {% endif %}
  </div>

  <div class="border rounded shadow-sm bg-light p-3">

    <!-- ìƒë‹¨: ì¢Œìš° ë¶„í•  (í˜ˆë‹¹ì£¼ì˜ì„±ë¶„ / ê²½ê³ ë¬¸) -->
    <div class="d-flex">
      <!-- ì™¼ìª½ ë°•ìŠ¤ -->
      <div class="pr-3 border-right flex-shrink-0" style="width: auto;">
        <h6 class="font-weight-bold mb-2">í˜ˆë‹¹ ì£¼ì˜ ì„±ë¶„</h6>
        <div class="text-danger font-weight-bold" style="font-size: 1.3rem; text-align: center;">{{ warnings_count }}ê°œ</div>
      </div>
  
      <!-- ì˜¤ë¥¸ìª½ ë°•ìŠ¤ -->
      <div class="pl-3 flex-grow-1">
        <div class="text-dark small">
          {% for msg in warning_messages %}
            {{ msg }}<br>
          {% endfor %}
        </div>
      </div>
    </div>
  
    <!-- ì•„ë˜ êµ¬ë¶„ì„  -->
    <hr class="my-3">
  
    <!-- í•˜ë‹¨: GI / GL í•œ ì¤„ -->
    <div class="d-flex justify-content-start">
      <div class="font-weight-bold mr-4">GI {{ product.GI }}</div>
      <div class="font-weight-bold">GL {{ product.GL }}</div>
    </div>
  
  </div>
  

<!-- ì œí’ˆ ì˜ì–‘ ì •ë³´ -->
<div class="bg-white p-3 mb-3 border rounded">
    <!-- í—¤ë” ì˜ì—­ -->
    <div class="d-flex justify-content-between align-items-start mb-2">
      <h5 class="mb-1 font-weight-bold">ì œí’ˆ ì˜ì–‘ ì •ë³´</h5>
      <div class="text-right">
        <strong class="d-block text-dark">ì´ ë‚´ìš©ëŸ‰ {{ product.Capacity }}</strong>
        <small class="text-muted">1íšŒ ì œê³µëŸ‰ {{ product.Product_calorific_onetime }} {{ product.Product_calorific_value }}</small>
      </div>
    </div>
  
    <!-- ì˜ì–‘ ì„±ë¶„ 2ì—´ ì •ë ¬ -->
    <div class="row mt-3">
      <div class="col-6">
        <div class="d-flex justify-content-between mb-2">
          <span>íƒ„ìˆ˜í™”ë¬¼</span><span>{{ product.carbohydrates }}</span>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <span>ë‹¹ë¥˜</span><span>{{ product.sugar }}</span>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <span>ë‹¹ì•Œì½”ì˜¬</span><span>{{ product.Sugar_alcohol }}</span>
        </div>
      </div>
      <div class="col-6">
        <div class="d-flex justify-content-between mb-2">
          <span>ì§€ë°©</span><span>{{ product.fat }}</span>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <span>ë‹¨ë°±ì§ˆ</span><span>{{ product.protein }}</span>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <span>ë‚˜íŠ¸ë¥¨</span><span>{{ product.sodium }}</span>
        </div>
      </div>
    </div>
  </div>
  
  
  

  <!-- ì›ì¬ë£Œ ì„¸ë¶€ì •ë³´: ì ‘ì„ ìˆ˜ ìˆëŠ” ì˜ì—­ -->
  <section class="my-4">
    <h5 class="font-weight-bold mb-2">ì›ì¬ë£Œ ì„¸ë¶€ ì •ë³´</h5>
  
  <button class="btn btn-outline-secondary btn-sm mb-2" type="button" data-toggle="collapse" data-target="#rawMaterialCollapse" aria-expanded="false" aria-controls="rawMaterialCollapse">
    ğŸ” ì›ì¬ë£Œ ì„¸ë¶€ ì •ë³´ ë³´ê¸°
  </button>

  <div class="collapse" id="rawMaterialCollapse">
    <div class="card card-body bg-light small">
      <ul class="pl-3 mb-0">
        {% for material in highlighted_materials %}
          {{ material|safe }}
        {% endfor %}
      </ul>
    </div>
  </div>
  </section>

  <!-- ë¦¬ë·° ì˜ˆì‹œ (ìƒ˜í”Œ) -->
  <div class="border-top pt-3">
    <h5 class="mb-3">ë¦¬ë·°</h5>
    <p><strong>ì¬í˜„ (20ëŒ€ / ë‹¹ë‡¨ ìœ„í—˜êµ°)</strong><br> ì €ë ´í•˜ê³  ë§›ìˆì–´ìš”. ê·¼ë° ë§í‹°í†¨ì´ ìˆë„¤ìš”.</p>
    <hr>
    <p><strong>ì†Œí¬ (30ëŒ€ / ê±´ê°•)</strong><br> ë§›ì€ ìˆëŠ”ë° í˜ˆë‹¹ì´ ì‚´ì§ ì˜¬ë¼ìš”!</p>
  </div>
</div>
{% endblock %}
